<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>독일피엠학교</title>
    <style>
        :root {
            --primary-bg: #000;
            --primary-text: #fff;
            --accent-color: #FFD700;
            --secondary-bg: #333;
            --hover-bg: #666;
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: var(--primary-bg) !important;
            color: var(--primary-text);
            font-family: Arial, sans-serif;
            padding: 20px 10px !important;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 25px !important;
        }
        
        .header h1 {
            color: #ccc;
            font-size: 18px !important;
            margin-bottom: 5px !important;
        }
        
        .header h2 {
            color: var(--accent-color);
            font-size: 32px !important;
            font-weight: bold !important;
        }
        
        .menu-container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        
        .button-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .menu-button {
            width: 100%;
            height: 70px !important;
            font-size: 28px !important;
            font-weight: bold !important;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--primary-text) !important;
            position: relative;
            z-index: 1;
        }
        
        .menu-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        .menu-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-1 { background: linear-gradient(145deg, #ff6b7a, #ff5252) !important; }
        .btn-2 { background: linear-gradient(145deg, #4ecdc4, #26a69a) !important; }
        .btn-3 { background: linear-gradient(145deg, #42a5f5, #1e88e5) !important; }
        .btn-4 { background: linear-gradient(145deg, #a5d6a7, #66bb6a) !important; }
        .btn-5 { background: linear-gradient(145deg, #ffb74d, #ff9800) !important; }
        .btn-6 { background: linear-gradient(145deg, #ab47bc, #8e24aa) !important; }
        .btn-7 { background: linear-gradient(145deg, #f06292, #e91e63) !important; }
        .btn-8 { background: linear-gradient(145deg, #ba68c8, #9c27b0) !important; }
        .btn-9 { background: linear-gradient(145deg, #ffb74d, #ff9800) !important; }
        .btn-10 { background: linear-gradient(145deg, #42a5f5, #1976d2) !important; }
        .btn-11 { background: linear-gradient(145deg, #4dd0e1, #00acc1) !important; }
        .btn-12 { background: linear-gradient(145deg, #f06292, #ec407a) !important; }
        
        .dropdown-container {
            width: 100%;
            margin: 0;
            position: relative;
            z-index: 2;
        }
        
        .dropdown-content {
            display: none;
            background: var(--secondary-bg);
            border-radius: 10px;
            padding: 15px;
            margin: 8px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .dropdown-content.show { display: block; }

        .order-dropdown {
            display: none;
            background: var(--secondary-bg);
            border-radius: 10px;
            padding: 15px;
            margin: 8px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .order-dropdown.show { display: block; }

        .order-top-row {
            display: grid;
            grid-template-columns: 4fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .order-select, .quantity-button, .reset-button {
            background: #555;
            color: var(--primary-text);
            padding: 12px 10px;
            border-radius: var(--border-radius);
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .order-select:hover, .quantity-button:hover { background: var(--hover-bg); }
        .order-select:focus { outline: none; background: #777; }

        .reset-button { background: #ff4444; }
        .reset-button:hover { background: #cc3333; }

        .quantity-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #444;
            border-radius: var(--border-radius);
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            border: 1px solid var(--hover-bg);
        }

        .quantity-dropdown.show { display: block; }

        .quantity-option {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #555;
            font-size: 14px;
        }

        .quantity-option:hover { background: #555; }
        .quantity-option:last-child { border-bottom: none; }

        .price-buttons-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .price-button {
            background: #555;
            color: var(--primary-text);
            padding: 12px 10px;
            border-radius: var(--border-radius);
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .price-button:hover { background: var(--hover-bg); }

        .price-button.selected {
            background: var(--accent-color) !important;
            color: var(--primary-bg) !important;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .order-bottom-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .order-bottom-button {
            background: var(--hover-bg);
            color: var(--primary-text);
            padding: 15px 10px;
            border-radius: var(--border-radius);
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .order-bottom-button:hover { background: #777; }

        .order-bottom-button.display {
            background: #444 !important;
            cursor: default;
            color: var(--accent-color);
        }

        .order-bottom-button.display:hover { background: #444 !important; }

        .order-textbox, .memo-textbox {
            width: 100%;
            background: #444;
            color: var(--primary-text);
            border: 1px solid var(--hover-bg);
            border-radius: var(--border-radius);
            padding: 10px;
            font-size: 14px;
            resize: vertical;
        }

        .order-textbox {
            margin-bottom: 10px;
            min-height: 200px;
        }

        .memo-textbox { height: 60px; }

        .order-textbox:focus, .memo-textbox:focus {
            outline: none;
            border-color: var(--accent-color);
        }
        
        .news-item, .group-item, .alarm-item, .catalog-item {
            background: #555;
            color: var(--primary-text);
            padding: 12px 15px !important;
            margin: 5px 0;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px !important;
            transition: var(--transition);
        }
        
        .news-item:hover, .group-item:hover, .alarm-item:hover, .catalog-item:hover {
            background: var(--hover-bg);
        }
        
        .news-item:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background: var(--secondary-bg);
        }
        
        .news-item-full { width: 100%; }
        .alarm-item { text-align: center; }

        .time-period-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .time-period-btn {
            background: #555;
            color: var(--primary-text);
            padding: 12px 15px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: var(--transition);
            text-align: center;
        }

        .time-period-btn:hover { background: var(--hover-bg); }

        .time-period-btn.selected {
            background: var(--accent-color) !important;
            color: var(--primary-bg) !important;
        }
        
        .program-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .program-item {
            background: #555;
            color: var(--primary-text);
            padding: 15px 15px 15px 10px !important;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px !important;
            text-align: right !important;
            transition: var(--transition);
        }
        
        .program-item:hover { background: var(--hover-bg); }
        
        .program-word { font-size: 21px !important; }
        .program-suffix { font-size: 15px !important; }
        
        .intake-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .intake-bottom {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        
        .intake-item {
            background: #555;
            color: var(--primary-text);
            padding: 10px 8px !important;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 14px !important;
            text-align: center;
            transition: var(--transition);
        }
        
        .intake-item:hover { background: var(--hover-bg); }
        
        .intake-bottom .intake-item {
            font-size: 16px !important;
            padding: 12px 8px !important;
        }
        
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .auth-modal-content {
            background: linear-gradient(145deg, var(--secondary-bg), #444);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            border: 2px solid var(--accent-color);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }
        
        .auth-modal h3 {
            color: var(--accent-color);
            font-size: 24px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .auth-modal p {
            color: #ccc;
            font-size: 16px;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .auth-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            text-align: center;
            border: 2px solid #555;
            border-radius: 10px;
            background: #222;
            color: var(--primary-text);
            margin-bottom: 15px;
        }
        
        .auth-input:focus {
            border-color: var(--accent-color);
            outline: none;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .auth-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .auth-btn {
            flex: 1;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .auth-btn-confirm {
            background: linear-gradient(145deg, #4CAF50, #45a049);
            color: var(--primary-text);
        }
        
        .auth-btn-confirm:hover {
            background: linear-gradient(145deg, #45a049, #4CAF50);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }
        
        .auth-btn-cancel {
            background: linear-gradient(145deg, #f44336, #da190b);
            color: var(--primary-text);
        }
        
        .auth-btn-cancel:hover {
            background: linear-gradient(145deg, #da190b, #f44336);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.4);
        }
        
        .auth-message {
            margin-top: 15px;
            font-size: 16px;
            font-weight: bold;
        }
        
        .auth-success { color: #4CAF50; }
        .auth-error { color: #f44336; }
        .auth-loading { color: var(--accent-color); }
        
        .popup-overlay, .slide-popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        
        .popup-content, .slide-popup-content {
            position: relative;
            max-width: 95%;
            max-height: 95%;
            background: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .slide-popup-content {
            flex-direction: column;
        }
        
        .popup-image, .slide-image {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(255,255,255,0.1);
        }
        
        .slide-container {
            position: relative;
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .slide-image {
            display: none;
            max-height: 80vh;
        }
        
        .slide-image.active { display: block; }
        
        .slide-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.7);
            color: var(--primary-text);
            border: 2px solid var(--primary-text);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: var(--transition);
        }
        
        .slide-nav:hover { background: rgba(255,255,255,0.2); }
        .slide-nav.prev { left: -60px; }
        .slide-nav.next { right: -60px; }
        
        .slide-indicator {
            margin-top: 20px;
            color: var(--primary-text);
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            background: rgba(0,0,0,0.7);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid var(--primary-text);
        }
        
        .popup-close, .slide-close {
            position: absolute;
            top: -40px;
            right: -10px;
            color: var(--primary-text);
            font-size: 30px;
            cursor: pointer;
            background: rgba(0,0,0,0.7);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--primary-text);
        }
        
        .slide-close { top: -50px; }
        
        .popup-close:hover, .slide-close:hover {
            background: rgba(255,255,255,0.2);
        }

        .alarm-buttons-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 8px;
            margin-bottom: 15px;
        }

        .alarm-button {
            background: #555;
            color: var(--primary-text);
            padding: 12px 8px;
            border-radius: var(--border-radius);
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .alarm-button:hover { background: var(--hover-bg); }

        .alarm-button.active-on {
            background: #4CAF50 !important;
            color: var(--primary-text);
        }

        .alarm-button.active-off {
            background: #f44336 !important;
            color: var(--primary-text);
        }

        .alarm-row {
            display: grid;
            grid-template-columns: 15% 15% 15% 55%;
            gap: 8px;
            margin-bottom: 8px;
        }

        .alarm-select, .alarm-input {
            background: #555;
            color: var(--primary-text);
            padding: 8px;
            border-radius: var(--border-radius);
            border: none;
            font-size: 14px;
        }

        .alarm-select:focus, .alarm-input:focus {
            outline: none;
            background: #777;
        }

        .health-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            padding: 15px;
        }

        .health-modal-content {
            background: linear-gradient(145deg, var(--secondary-bg), #444);
            border-radius: 15px;
            padding: 20px;
            max-width: 90%;
            width: 100%;
            max-height: 90%;
            overflow-y: auto;
            text-align: left;
            border: 2px solid var(--accent-color);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .health-modal h3 {
            color: var(--accent-color);
            font-size: 18px;
            margin-bottom: 10px;
            font-weight: bold;
            text-align: center;
            line-height: 1.3;
        }

        .health-modal p {
            color: #ccc;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.4;
            text-align: center;
        }

        .survey-page {
            display: none;
        }

        .survey-page.active {
            display: block;
        }

        .question-group {
            margin-bottom: 15px;
        }

        .question-label {
            color: var(--accent-color);
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }

        .question-input, .question-select, .question-textarea {
            width: 100%;
            background: #555;
            color: var(--primary-text);
            border: 1px solid #666;
            border-radius: var(--border-radius);
            padding: 10px;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .question-input:focus, .question-select:focus, .question-textarea:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .question-textarea {
            height: 80px;
            resize: vertical;
        }

        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 8px;
        }

        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-option input, .checkbox-option input {
            margin-right: 8px;
            transform: scale(1.2);
        }

        .survey-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .survey-btn {
            padding: 12px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .survey-btn-close {
            background: #666;
            color: var(--primary-text);
        }

        .survey-btn-prev {
            background: #f44336;
            color: var(--primary-text);
        }

        .survey-btn-next {
            background: #4CAF50;
            color: var(--primary-text);
        }

        .survey-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .footer {
            text-align: center;
            margin-top: 25px !important;
            color: #ccc;
            font-size: 14px !important;
        }
        
        @media (max-width: 480px) {
            body { padding: 15px 5px !important; }
            .menu-button { font-size: 24px !important; height: 65px !important; }
            .header h2 { font-size: 28px !important; }
            .button-row { gap: 6px; margin-bottom: 6px; }
            .popup-close, .slide-close { top: -35px; right: -5px; font-size: 25px; width: 35px; height: 35px; }
            .slide-nav.prev { left: -40px; }
            .slide-nav.next { right: -40px; }
            .slide-nav { width: 40px; height: 40px; font-size: 18px; }
            .auth-modal-content { padding: 20px; margin: 10px; }
            .auth-modal h3 { font-size: 20px; }
            .auth-input { font-size: 16px; padding: 12px; }
            .auth-btn { font-size: 16px; padding: 12px; }
            .alarm-buttons-row { grid-template-columns: 1fr 1fr; gap: 5px; }
            .alarm-button { font-size: 12px; padding: 8px 4px; }
            .alarm-row { grid-template-columns: 1fr; gap: 5px; }
            .health-modal-content { padding: 15px; }
            .health-modal h3 { font-size: 16px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>God is Love</h1>
        <h2>독일피엠학교</h2>
    </div>
    
    <div class="menu-container">
        <div class="button-row">
            <button class="menu-button btn-1" onclick="toggleDropdown('news')">피엠소식</button>
            <button class="menu-button btn-2" onclick="toggleDropdown('group')">그룹메세지</button>
        </div>
        
        <div class="dropdown-container">
            <div class="dropdown-content" id="news-dropdown">
                <div class="news-item">공지사항</div>
                <div class="news-item" onclick="showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/card-1.png', '카드 무이자 할부 안내')">이달의 카드 무이자</div>
                <div class="news-item" onclick="showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/BA-1.png', '2025년 6월 비즈니스 아카데미')">이달의 BA 행사</div>
                <div class="news-item" onclick="showSlide('ba-event', 5)">이달의 BA 이벤트</div>
                <div class="news-item" onclick="showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/month-event-1', '월말 이벤트 안내')">이달의 월말 이벤트</div>
                <div class="news-item" onclick="showSlide('special-event', 3)">이달의 특별 이벤트</div>
                <div class="news-item" onclick="showSlide('monthly-plan', 3)">이달의 본사 일정</div>
                <div class="news-item" onclick="showSlide('warning', 4)">규정위반 조치안내</div>
                <div class="news-item news-item-full" onclick="showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/branch-1.png', '독일피엠 전국지사 및 반품처')">독일피엠 전국지사 및 반품처</div>
            </div>
        </div>

        <div class="dropdown-container">
            <div class="dropdown-content" id="group-dropdown">
                <div class="group-item" onclick="showGroupMessage('참고용 체험사례들')">참고용 체험사례들</div>
                <div class="group-item" onclick="showGroupMessage('트레이너 K 일정')">트레이너 K 일정</div>
                <div class="group-item" onclick="showGroupMessage('독일피엠학교 소식')">독일피엠학교 소식</div>
                <div class="group-item" onclick="showGroupMessage('독일피엠학교 문화')">독일피엠학교 문화</div>
                <div class="group-item" onclick="showGroupMessage('독일피엠학교 이벤트')">독일피엠학교 이벤트</div>
                <div class="group-item" onclick="showGroupMessage('독일피엠학교 교육프로그램')">독일피엠학교 교육프로그램</div>
                <div class="group-item" onclick="showGroupMessage('독일피엠학교 교칙 및 후원안내')">독일피엠학교 교칙 및 후원안내</div>
            </div>
        </div>
        
        <div class="button-row">
            <button class="menu-button btn-3" onclick="toggleDropdown('program')">프로그램</button>
            <button class="menu-button btn-4" onclick="toggleDropdown('order')">주문서작성</button>
        </div>
        
        <div class="dropdown-container">
            <div class="dropdown-content" id="program-dropdown">
                <div class="program-grid">
                    <div class="program-item" onclick="checkMemberAuth('해독 프로그램')"><span class="program-word">해독</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('다이어트 프로그램')"><span class="program-word">다이어트</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('장건강 프로그램')"><span class="program-word">장건강</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('혈당관리 프로그램')"><span class="program-word">혈당관리</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('눈건강 프로그램')"><span class="program-word">눈건강</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('혈압관리 프로그램')"><span class="program-word">혈압관리</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('뼈건강 프로그램')"><span class="program-word">뼈건강</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('혈액생성 프로그램')"><span class="program-word">혈액생성</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('갱년기 프로그램')"><span class="program-word">갱년기</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('혈관건강 프로그램')"><span class="program-word">혈관건강</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('전립선 프로그램')"><span class="program-word">전립선</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('염증제거 프로그램')"><span class="program-word">염증제거</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('고지혈 프로그램')"><span class="program-word">고지혈</span> <span class="program-suffix">프로그램</span></div>
                    <div class="program-item" onclick="checkMemberAuth('피로회복 프로그램')"><span class="program-word">피로회복</span> <span class="program-suffix">프로그램</span></div>
                </div>
            </div>
        </div>

        <div class="dropdown-container">
            <div class="dropdown-content" id="order-dropdown">
                <div class="order-top-row">
                    <select class="order-select" id="product-select">
                        <option value="">제품을 선택하세요</option>
                        <option value="파워">파워</option>
                        <option value="리스">리스</option>
                        <option value="액티(스테비아)">액티(스테비아)</option>
                        <option value="액티(레몬라임)">액티(레몬라임)</option>
                        <option value="액티(레몬그라스)">액티(레몬그라스)</option>
                        <option value="액티(피치 아이스티)">액티(피치 아이스티)</option>
                        <option value="액티펀치">액티펀치</option>
                        <option value="액티 투 고">액티 투 고</option>
                        <option value="피트니스 드링크">피트니스 드링크</option>
                        <option value="젤슈츠(오렌지)">젤슈츠(오렌지)</option>
                        <option value="젤슈츠(사과)">젤슈츠(사과)</option>
                        <option value="요거트 드링크">요거트 드링크</option>
                        <option value="D-드링크">D-드링크</option>
                        <option value="제너레이션">제너레이션</option>
                        <option value="듀오">듀오</option>
                        <option value="오메가3">오메가3</option>
                        <option value="큐10 플러스">큐10 플러스</option>
                        <option value="뮤노겐">뮤노겐</option>
                        <option value="뷰티">뷰티</option>
                        <option value="C-밸런스">C-밸런스</option>
                        <option value="겔링핏">겔링핏</option>
                        <option value="액티브 젤">액티브 젤</option>
                        <option value="맨플러스">맨플러스</option>
                        <option value="허벌티">허벌티</option>
                        <option value="탑쉐이프">탑쉐이프</option>
                        <option value="아이비5(IB5)">아이비5(IB5)</option>
                        <option value="프로(망고)">프로(망고)</option>
                        <option value="프로(바닐라)">프로(바닐라)</option>
                        <option value="프로(베리)">프로(베리)</option>
                        <option value="프로(코코넛)">프로(코코넛)</option>
                        <option value="프로(초코릿무스)">프로(초코릿무스)</option>
                        <option value="웨이">웨이</option>
                        <option value="주니어">주니어</option>
                        <option value="맨 페이스">맨 페이스</option>
                        <option value="액티 세럼">액티 세럼</option>
                        <option value="브라이트닝 포에버">브라이트닝 포에버</option>
                        <option value="클렌징폼">클렌징폼</option>
                        <option value="밸런싱크림">밸런싱크림</option>
                        <option value="필링마스크">필링마스크</option>
                        <option value="영케어 세트">영케어 세트</option>
                        <option value="하이드레이팅 샷 마스크">하이드레이팅 샷 마스크</option>
                        <option value="브라이트닝 샷 마스크">브라이트닝 샷 마스크</option>
                        <option value="요거트 메이커">요거트 메이커</option>
                        <option value="티인퓨저">티인퓨저</option>
                        <option value="데모백">데모백</option>
                    </select>
                    <div style="position: relative;">
                        <button class="quantity-button" id="quantity-button" onclick="toggleQuantityDropdown()">수량</button>
                        <div class="quantity-dropdown" id="quantity-dropdown">
                            <div class="quantity-option" onclick="selectQuantity(1)">1</div>
                            <div class="quantity-option" onclick="selectQuantity(2)">2</div>
                            <div class="quantity-option" onclick="selectQuantity(3)">3</div>
                            <div class="quantity-option" onclick="selectQuantity(4)">4</div>
                            <div class="quantity-option" onclick="selectQuantity(5)">5</div>
                            <div class="quantity-option" onclick="selectQuantity(6)">6</div>
                            <div class="quantity-option" onclick="selectQuantity(7)">7</div>
                            <div class="quantity-option" onclick="selectQuantity(8)">8</div>
                            <div class="quantity-option" onclick="selectQuantity(9)">9</div>
                            <div class="quantity-option" onclick="selectQuantity(10)">10</div>
                            <div class="quantity-option" onclick="selectQuantity(11)">11</div>
                            <div class="quantity-option" onclick="selectQuantity(12)">12</div>
                            <div class="quantity-option" onclick="selectQuantity(13)">13</div>
                            <div class="quantity-option" onclick="selectQuantity(14)">14</div>
                            <div class="quantity-option" onclick="selectQuantity(15)">15</div>
                            <div class="quantity-option" onclick="selectQuantity(16)">16</div>
                            <div class="quantity-option" onclick="selectQuantity(17)">17</div>
                            <div class="quantity-option" onclick="selectQuantity(18)">18</div>
                            <div class="quantity-option" onclick="selectQuantity(19)">19</div>
                            <div class="quantity-option" onclick="selectQuantity(20)">20</div>
                            <div class="quantity-option" onclick="selectQuantity(21)">21</div>
                            <div class="quantity-option" onclick="selectQuantity(22)">22</div>
                            <div class="quantity-option" onclick="selectQuantity(23)">23</div>
                            <div class="quantity-option" onclick="selectQuantity(24)">24</div>
                            <div class="quantity-option" onclick="selectQuantity(25)">25</div>
                            <div class="quantity-option" onclick="selectQuantity(26)">26</div>
                        </div>
                    </div>
                    <button class="reset-button" onclick="resetOrderList()">초기화</button>
                </div>
                
                <div class="price-buttons-grid">
                    <button class="price-button" onclick="selectPriceType('회원기준')">회원기준</button>
                    <button class="price-button" onclick="selectPriceType('5+1 단품')">5+1 단품</button>
                    <button class="price-button" onclick="selectPriceType('5+1 세트')">5+1 세트</button>
                    <button class="price-button" onclick="selectPriceType('오토십')">오토십</button>
                    <button class="price-button" onclick="selectPriceType('BA')">BA</button>
                    <button class="price-button" onclick="selectPriceType('액션팩')">액션팩</button>
                </div>
                
                <div class="order-bottom-row">
                    <div class="order-bottom-button display" id="subtotal-display">소계</div>
                    <button class="order-bottom-button" onclick="registerOrder()">등록</button>
                    <button class="order-bottom-button" onclick="calculateAndCopy()">정산(복사)</button>
                </div>
                
                <textarea class="order-textbox" id="order-textbox" placeholder="등록된 주문 내역이 여기에 표시됩니다..."></textarea>
                
                <textarea class="memo-textbox" id="memo-textbox" placeholder="메모를 입력하세요...">[입금계좌안내] 
카카오뱅크/김희진 3333-12-564789</textarea>
            </div>
        </div>
        
        <div class="button-row">
            <button class="menu-button btn-5" onclick="toggleDropdown('catalog')">카탈로그</button>
            <button class="menu-button btn-6" onclick="toggleDropdown('alarm')">섭취알람기</button>
        </div>
        
        <div class="dropdown-container">
            <div class="dropdown-content" id="catalog-dropdown">
                <div class="catalog-item" onclick="showSlide('price', 35)">가격정보 카탈로그</div>
                <div class="catalog-item" onclick="showSlide('promotion', 28)">프로모션 카탈로그</div>
                <div class="catalog-item">효능정보 카탈로그</div>
                <div class="catalog-item" onclick="showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/ratio-pvsr-1.png', '파워리스 비율계산표')">파워리스 비율계산표</div>
            </div>
        </div>

        <div class="dropdown-container">
            <div class="dropdown-content" id="alarm-dropdown">
                <div class="alarm-buttons-row">
                    <button class="alarm-button" id="alarm-on-btn" onclick="toggleAlarms(true)">알람켜기</button>
                    <button class="alarm-button" id="alarm-off-btn" onclick="toggleAlarms(false)">알람끄기</button>
                    <button class="alarm-button" onclick="showAlarmSoundSettings()">알람소리</button>
                    <button class="alarm-button" onclick="addAlarmRow()">알람추가</button>
                </div>
                
                <div id="alarm-rows-container">
                    <div class="alarm-row">
                        <select class="alarm-select">
                            <option value="오전" selected>오전</option>
                            <option value="오후">오후</option>
                        </select>
                        <select class="alarm-select">
                            <option value="시간">시간</option>
                            <option value="1시">1시</option>
                            <option value="2시">2시</option>
                            <option value="3시">3시</option>
                            <option value="4시">4시</option>
                            <option value="5시">5시</option>
                            <option value="6시">6시</option>
                            <option value="7시" selected>7시</option>
                            <option value="8시">8시</option>
                            <option value="9시">9시</option>
                            <option value="10시">10시</option>
                            <option value="11시">11시</option>
                            <option value="12시">12시</option>
                        </select>
                        <select class="alarm-select">
                            <option value="분">분</option>
                            <option value="00분" selected>00분</option>
                            <option value="10분">10분</option>
                            <option value="20분">20분</option>
                            <option value="30분">30분</option>
                            <option value="40분">40분</option>
                            <option value="50분">50분</option>
                        </select>
                        <input type="text" class="alarm-input" placeholder="제품명 및 메모">
                    </div>
                    <div class="alarm-row">
                        <select class="alarm-select">
                            <option value="오전" selected>오전</option>
                            <option value="오후">오후</option>
                        </select>
                        <select class="alarm-select">
                            <option value="시간" selected>시간</option>
                            <option value="1시">1시</option>
                            <option value="2시">2시</option>
                            <option value="3시">3시</option>
                            <option value="4시">4시</option>
                            <option value="5시">5시</option>
                            <option value="6시">6시</option>
                            <option value="7시">7시</option>
                            <option value="8시">8시</option>
                            <option value="9시">9시</option>
                            <option value="10시">10시</option>
                            <option value="11시">11시</option>
                            <option value="12시">12시</option>
                        </select>
                        <select class="alarm-select">
                            <option value="분" selected>분</option>
                            <option value="00분">00분</option>
                            <option value="10분">10분</option>
                            <option value="20분">20분</option>
                            <option value="30분">30분</option>
                            <option value="40분">40분</option>
                            <option value="50분">50분</option>
                        </select>
                        <input type="text" class="alarm-input" placeholder="제품명 및 메모">
                    </div>
                    <div class="alarm-row">
                        <select class="alarm-select">
                            <option value="오전" selected>오전</option>
                            <option value="오후">오후</option>
                        </select>
                        <select class="alarm-select">
                            <option value="시간" selected>시간</option>
                            <option value="1시">1시</option>
                            <option value="2시">2시</option>
                            <option value="3시">3시</option>
                            <option value="4시">4시</option>
                            <option value="5시">5시</option>
                            <option value="6시">6시</option>
                            <option value="7시">7시</option>
                            <option value="8시">8시</option>
                            <option value="9시">9시</option>
                            <option value="10시">10시</option>
                            <option value="11시">11시</option>
                            <option value="12시">12시</option>
                        </select>
                        <select class="alarm-select">
                            <option value="분" selected>분</option>
                            <option value="00분">00분</option>
                            <option value="10분">10분</option>
                            <option value="20분">20분</option>
                            <option value="30분">30분</option>
                            <option value="40분">40분</option>
                            <option value="50분">50분</option>
                        </select>
                        <input type="text" class="alarm-input" placeholder="제품명 및 메모">
                    </div>
                    <div class="alarm-row">
                        <select class="alarm-select">
                            <option value="오전" selected>오전</option>
                            <option value="오후">오후</option>
                        </select>
                        <select class="alarm-select">
                            <option value="시간" selected>시간</option>
                            <option value="1시">1시</option>
                            <option value="2시">2시</option>
                            <option value="3시">3시</option>
                            <option value="4시">4시</option>
                            <option value="5시">5시</option>
                            <option value="6시">6시</option>
                            <option value="7시">7시</option>
                            <option value="8시">8시</option>
                            <option value="9시">9시</option>
                            <option value="10시">10시</option>
                            <option value="11시">11시</option>
                            <option value="12시">12시</option>
                        </select>
                        <select class="alarm-select">
                            <option value="분" selected>분</option>
                            <option value="00분">00분</option>
                            <option value="10분">10분</option>
                            <option value="20분">20분</option>
                            <option value="30분">30분</option>
                            <option value="40분">40분</option>
                            <option value="50분">50분</option>
                        </select>
                        <input type="text" class="alarm-input" placeholder="제품명 및 메모">
                    </div>
                    <div class="alarm-row">
                        <select class="alarm-select">
                            <option value="오전" selected>오전</option>
                            <option value="오후">오후</option>
                        </select>
                        <select class="alarm-select">
                            <option value="시간" selected>시간</option>
                            <option value="1시">1시</option>
                            <option value="2시">2시</option>
                            <option value="3시">3시</option>
                            <option value="4시">4시</option>
                            <option value="5시">5시</option>
                            <option value="6시">6시</option>
                            <option value="7시">7시</option>
                            <option value="8시">8시</option>
                            <option value="9시">9시</option>
                            <option value="10시">10시</option>
                            <option value="11시">11시</option>
                            <option value="12시">12시</option>
                        </select>
                        <select class="alarm-select">
                            <option value="분" selected>분</option>
                            <option value="00분">00분</option>
                            <option value="10분">10분</option>
                            <option value="20분">20분</option>
                            <option value="30분">30분</option>
                            <option value="40분">40분</option>
                            <option value="50분">50분</option>
                        </select>
                        <input type="text" class="alarm-input" placeholder="제품명 및 메모">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="button-row">
            <button class="menu-button btn-7" onclick="toggleDropdown('intake')">섭취방법</button>
            <button class="menu-button btn-8" onclick="window.open('https://www.youtube.com/@독일피엠학교', '_blank')">유튜브채널</button>
        </div>
        
        <div class="dropdown-container">
            <div class="dropdown-content" id="intake-dropdown">
                <div class="intake-grid">
                    <div class="intake-item" onclick="showIntakeImage('howtotake-01')">파워</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-02')">리스</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-03')">젤슈츠</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-04')">액티</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-05')">뷰티</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-06')">겔링핏</div>
                    <div class="intake-item" onclick="showSlide('pro-intake', 2)">프로</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-08')">웨이</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-09')">뮤노겐</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-10')">듀오</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-11')">큐10</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-12')">오메가-3</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-13')">제너</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-14')">맨+</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-15')">C-밸런스</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-16')">IB5</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-17')">주니어</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-18')">D-드링크</div>
                </div>
                <div class="intake-bottom">
                    <div class="intake-item" onclick="showIntakeImage('howtotake-19')">피트니스 드링크</div>
                    <div class="intake-item" onclick="showIntakeImage('howtotake-20')">요거트 드링크</div>
                </div>
            </div>
        </div>
        
        <div class="button-row">
            <button class="menu-button btn-9" onclick="showHealthConsult()">건강상담</button>
            <button class="menu-button btn-10" onclick="window.open('https://m.cafe.naver.com/fitlineschool.cafe?', '_blank')">네이버카페</button>
        </div>
        
        <div class="button-row">
            <button class="menu-button btn-11" onclick="window.open('https://xn--9d0bl6jk3qcqb4w6a9e.com/', '_blank')">홈페이지</button>
            <button class="menu-button btn-12" onclick="window.open('https://pms.liveklass.com/', '_blank')">강의사이트</button>
        </div>
    </div>

    <!-- 회원 인증 모달 -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-modal-content">
            <h3>🔐 회원 인증</h3>
            <p>프로그램 이용을 위해<br/>회원번호와 비밀번호를 입력해주세요</p>
            <input class="auth-input" id="member-id" maxlength="8" placeholder="회원번호 (7-8자리)" type="text"/>
            <input class="auth-input" id="member-password" placeholder="비밀번호" type="password"/>
            <div class="auth-buttons">
                <button class="auth-btn auth-btn-confirm" onclick="verifyMemberAuth()">확인</button>
                <button class="auth-btn auth-btn-cancel" onclick="closeAuthModal()">취소</button>
            </div>
            <div class="auth-message" id="auth-message"></div>
        </div>
    </div>

    <!-- 이미지 팝업 -->
    <div class="popup-overlay" id="popup-overlay" onclick="closePopup()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <span class="popup-close" onclick="closePopup()">×</span>
            <img alt="이벤트 안내" class="popup-image" id="popup-image" src=""/>
        </div>
    </div>

    <!-- 슬라이드 팝업들 -->
    <div class="slide-popup-overlay" id="ba-event-slide-overlay" onclick="closeSlide('ba-event')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('ba-event')">×</span>
            <div class="slide-container" id="ba-event-container">
            </div>
            <div class="slide-indicator" id="ba-event-indicator">1 / 5</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="special-event-slide-overlay" onclick="closeSlide('special-event')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('special-event')">×</span>
            <div class="slide-container" id="special-event-container">
            </div>
            <div class="slide-indicator" id="special-event-indicator">1 / 3</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="monthly-plan-slide-overlay" onclick="closeSlide('monthly-plan')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('monthly-plan')">×</span>
            <div class="slide-container" id="monthly-plan-container">
            </div>
            <div class="slide-indicator" id="monthly-plan-indicator">1 / 3</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="warning-slide-overlay" onclick="closeSlide('warning')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('warning')">×</span>
            <div class="slide-container" id="warning-container">
            </div>
            <div class="slide-indicator" id="warning-indicator">1 / 4</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="price-slide-overlay" onclick="closeSlide('price')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('price')">×</span>
            <div class="slide-container" id="price-container">
            </div>
            <div class="slide-indicator" id="price-indicator">1 / 35</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="promotion-slide-overlay" onclick="closeSlide('promotion')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('promotion')">×</span>
            <div class="slide-container" id="promotion-container">
            </div>
            <div class="slide-indicator" id="promotion-indicator">1 / 28</div>
        </div>
    </div>

    <div class="slide-popup-overlay" id="pro-intake-slide-overlay" onclick="closeSlide('pro-intake')">
        <div class="slide-popup-content" onclick="event.stopPropagation()">
            <span class="slide-close" onclick="closeSlide('pro-intake')">×</span>
            <div class="slide-container" id="pro-intake-container">
            </div>
            <div class="slide-indicator" id="pro-intake-indicator">1 / 2</div>
        </div>
    </div>

    <!-- 건강상담 모달 -->
    <div class="health-modal" id="health-modal">
        <div class="health-modal-content">
            <div class="survey-page active" id="page-1">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                <p>😊 건강상담을 보다 정확하게 도와드리기 위해, 간단한 질문 몇가지를 드리려고 합니다. 편하게 답해주시면 감사하겠습니다!</p>
                
                <div class="question-group">
                    <label class="question-label">당신의 성별은 무엇인가요?</label>
                    <select class="question-select" id="q1">
                        <option value="">성별을 선택해 주세요</option>
                        <option value="남성">남성</option>
                        <option value="여성">여성</option>
                    </select>
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 키는 몇 cm인가요?</label>
                    <input type="number" class="question-input" id="q2" placeholder="숫자만 입력해 주세요 (예: 165)">
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 몸무게는 몇 kg인가요?</label>
                    <input type="number" class="question-input" id="q3" placeholder="숫자만 입력해 주세요 (예: 55)">
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 몇년생인가요?</label>
                    <input type="number" class="question-input" id="q4" placeholder="숫자만 입력해 주세요 (예: 1970)">
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" disabled>이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-2">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 수술 또는 시술을 한적이 있나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q5" value="있다"> 있다</label>
                        <label class="radio-option"><input type="radio" name="q5" value="없다"> 없다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 술을 드시나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q6" value="먹는다"> 먹는다</label>
                        <label class="radio-option"><input type="radio" name="q6" value="전혀 안먹는다"> 전혀 안먹는다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 흡연을 하시나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q7" value="한다"> 한다</label>
                        <label class="radio-option"><input type="radio" name="q7" value="안한다"> 안한다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 우유를 섭취하면 설사를 하나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q8" value="한다"> 한다</label>
                        <label class="radio-option"><input type="radio" name="q8" value="안한다"> 안한다</label>
                    </div>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-3">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 하루에 커피를 몇잔정도 드시나요?</label>
                    <input type="number" class="question-input" id="q9" placeholder="숫자만 입력 (예: 2)"> 잔
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 대변보는 주기는 어떤가요?</label>
                    <input type="number" class="question-input" id="q10-1" placeholder="숫자 (예: 1)" style="display:inline-block; width:48%;"> 일에 
                    <input type="number" class="question-input" id="q10-2" placeholder="숫자 (예: 1)" style="display:inline-block; width:48%;"> 회
                </div>

                <div class="question-group">
                    <label class="question-label">당신이 1가지만 먹고 살아야 한다면 무엇을 선택하겠습니까?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q11" value="육식"> 육식</label>
                        <label class="radio-option"><input type="radio" name="q11" value="생선"> 생선</label>
                        <label class="radio-option"><input type="radio" name="q11" value="채식"> 채식</label>
                        <label class="radio-option"><input type="radio" name="q11" value="과일"> 과일</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 국,찌게,탕,라면 등을 요리할때 수돗물을 사용하나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q12" value="사용한다"> 사용한다</label>
                        <label class="radio-option"><input type="radio" name="q12" value="사용안한다"> 사용안한다</label>
                    </div>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-4">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 하루 평균 몇 끼를 드시나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q13" value="1끼"> 1끼</label>
                        <label class="radio-option"><input type="radio" name="q13" value="2끼"> 2끼</label>
                        <label class="radio-option"><input type="radio" name="q13" value="3끼"> 3끼</label>
                        <label class="radio-option"><input type="radio" name="q13" value="불규칙"> 불규칙</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 식사시간은 주로 어떻게 되시나요? (복수선택 가능)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="아침"> 아침</label>
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="오전"> 오전</label>
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="점심"> 점심</label>
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="오후"> 오후</label>
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="저녁"> 저녁</label>
                        <label class="checkbox-option"><input type="checkbox" name="q14" value="밤"> 밤</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 음식 섭취 후 속쓰림, 더부룩함, 가스, 트림 등이 자주 발생하나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q15" value="그렇다"> 그렇다</label>
                        <label class="radio-option"><input type="radio" name="q15" value="그렇지않다"> 그렇지않다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 특별히 알러지 반응이 있는 음식이 있으신가요?</label>
                    <input type="text" class="question-input" id="q16" placeholder="알러지 음식을 입력하세요"> 알러지가 있다.
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-5">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 과거에 영양제를 섭취해 봤거나 섭취하고 있나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q17" value="그렇다"> 그렇다</label>
                        <label class="radio-option"><input type="radio" name="q17" value="그렇지않다"> 그렇지않다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 독일피엠 제품을 섭취해 봤거나 섭취하고 있나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q18" value="그렇다"> 그렇다</label>
                        <label class="radio-option"><input type="radio" name="q18" value="그렇지않다"> 그렇지않다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 현재 영양제가 아닌 약을 섭취하고 계신가요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q19" value="섭취중이다"> 섭취중이다</label>
                        <label class="radio-option"><input type="radio" name="q19" value="섭취중이 아니다"> 섭취중이 아니다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 지금까지 살면서 암에 걸린 적이 있나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q20" value="있다"> 있다</label>
                        <label class="radio-option"><input type="radio" name="q20" value="없다"> 없다</label>
                    </div>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-6">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 해독이란 것을 해본적이 있나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q21" value="있다"> 있다</label>
                        <label class="radio-option"><input type="radio" name="q21" value="없다"> 없다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 하루 평균 수면 시간은 몇 시간인가요?</label>
                    <input type="number" class="question-input" id="q22" placeholder="숫자만 입력 (예: 7)"> 시간
                </div>

                <div class="question-group">
                    <label class="question-label">당신의 수면은 어떤가요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q23" value="잠들기 힘들다"> 잠들기 힘들다</label>
                        <label class="radio-option"><input type="radio" name="q23" value="중간에 자주깬다"> 중간에 자주깬다</label>
                        <label class="radio-option"><input type="radio" name="q23" value="잘잔다"> 잘잔다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 하루중 에너지가 가장 떨어지는 시간은 언제인가요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q24" value="아침"> 아침</label>
                        <label class="radio-option"><input type="radio" name="q24" value="오전"> 오전</label>
                        <label class="radio-option"><input type="radio" name="q24" value="오후"> 오후</label>
                        <label class="radio-option"><input type="radio" name="q24" value="저녁"> 저녁</label>
                        <label class="radio-option"><input type="radio" name="q24" value="식후"> 식후</label>
                        <label class="radio-option"><input type="radio" name="q24" value="일정치않음"> 일정치않음</label>
                    </div>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-7">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                
                <div class="question-group">
                    <label class="question-label">당신은 스트레스를 얼마나 느끼시나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q25" value="거의없음"> 거의없음</label>
                        <label class="radio-option"><input type="radio" name="q25" value="가끔"> 가끔</label>
                        <label class="radio-option"><input type="radio" name="q25" value="자주"> 자주</label>
                        <label class="radio-option"><input type="radio" name="q25" value="매우심함"> 매우심함</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 아직 생리를 하시나요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q26" value="잘한다"> 잘한다</label>
                        <label class="radio-option"><input type="radio" name="q26" value="불순하다"> 불순하다</label>
                        <label class="radio-option"><input type="radio" name="q26" value="폐경이다"> 폐경이다</label>
                        <label class="radio-option"><input type="radio" name="q26" value="폐경진행중이다"> 폐경진행중이다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 생리통 또는 생리전증상(PMS)은 있으신가요?</label>
                    <div class="radio-group">
                        <label class="radio-option"><input type="radio" name="q27" value="전혀없다"> 전혀없다</label>
                        <label class="radio-option"><input type="radio" name="q27" value="가볍게 있다"> 가볍게 있다</label>
                        <label class="radio-option"><input type="radio" name="q27" value="매우 심하다"> 매우 심하다</label>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 지금 생활하면서 제일 불편한 점이 무엇인가요? 이것만 좋아지면 좋겠다 라는 것을 적어주세요.</label>
                    <textarea class="question-textarea" id="q28" placeholder="자유롭게 적어주세요"></textarea>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" onclick="nextPage()">다음</button>
                </div>
            </div>

            <div class="survey-page" id="page-8">
                <h3>개인맞춤 영양설계를 위한<br>사전문진표</h3>
                <p>마지막 단계입니다. 매니저가 검토후 연락드리겠습니다.</p>
                
                <div class="question-group">
                    <label class="question-label">당신의 이름은 무엇인가요?</label>
                    <input type="text" class="question-input" id="q29" placeholder="이름을 입력하세요">
                </div>

                <div class="question-group">
                    <label class="question-label">당신이 연락받을 핸드폰 번호를 알려주세요?</label>
                    <input type="tel" class="question-input" id="q30" placeholder="010-1234-5678">
                </div>

                <div class="question-group">
                    <label class="question-label">당신은 이 문진표를 보내고 상담받기를 원하시면 눌러주세요.</label>
                    <button class="survey-btn survey-btn-next" onclick="submitSurvey()" style="width: 100%; margin-top: 10px;">상담요청</button>
                </div>

                <div class="survey-buttons">
                    <button class="survey-btn survey-btn-close" onclick="closeHealthModal()">닫기</button>
                    <button class="survey-btn survey-btn-prev" onclick="prevPage()">이전</button>
                    <button class="survey-btn survey-btn-next" style="opacity: 0.5;" disabled>완료</button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        독일피엠 프리미엄그룹<br/>
        독일피엠학교 @ 2025
    </div>

    <script>
        // 전역 변수들
        let currentDropdown = null;
        let currentSlideType = '';
        let currentSlideIndex = 1;
        let totalSlides = 0;
        let currentProgramName = '';
        let selectedQuantity = null;
        let selectedPriceType = null;
        let isAlarmActive = false;
        let alarmInterval = null;
        let selectedAlarmSound = 'default';
        let currentSurveyPage = 1;
        let totalSurveyPages = 8;
        
        // 회원정보 및 제품 가격 데이터
        const MEMBER_LIST_URL = 'https://res.cloudinary.com/dj2g9dtca/raw/upload/member_list.txt';
        let memberDataCache = null;
        let memberDataCacheTime = 0;
        const CACHE_DURATION = 5 * 60 * 1000;
        
        // 제품 가격 데이터
        const PRODUCT_PRICES = {
            '파워': { 회원기준: 125000, 오토십: 107987, BA: 93762, 액션팩: 85948 },
            '리스': { 회원기준: 33700, 오토십: 29113, BA: 25278, 액션팩: 23172 },
            '액티(스테비아)': { 회원기준: 42600, '5+1 세트': 213000, '5+1 단품': 35500 },
            '액티(레몬라임)': { 회원기준: 42600, '5+1 세트': 213000, '5+1 단품': 35500 },
            '액티(레몬그라스)': { 회원기준: 42600, '5+1 세트': 213000, '5+1 단품': 35500 },
            '액티(피치 아이스티)': { 회원기준: 42600, '5+1 세트': 213000, '5+1 단품': 35500 },
            '액티펀치': { 회원기준: 42600, '5+1 세트': 213000, '5+1 단품': 35500 },
            '액티 투 고': { 회원기준: 58000, '5+1 세트': 290000, '5+1 단품': 48333 },
            '피트니스 드링크': { 회원기준: 59200, '5+1 세트': 296000, '5+1 단품': 49333 },
            '젤슈츠(오렌지)': { 회원기준: 60600, '5+1 세트': 303000, '5+1 단품': 50500 },
            '젤슈츠(사과)': { 회원기준: 60600, '5+1 세트': 303000, '5+1 단품': 50500 },
            '요거트 드링크': { 회원기준: 37000, '5+1 세트': 185000, '5+1 단품': 30833 },
            'D-드링크': { 회원기준: 46000, '5+1 세트': 230000, '5+1 단품': 38333 },
            '제너레이션': { 회원기준: 120300, '5+1 세트': 601500, '5+1 단품': 100250 },
            '듀오': { 회원기준: 84000, '5+1 세트': 420000, '5+1 단품': 70000 },
            '오메가3': { 회원기준: 46600, '5+1 세트': 233000, '5+1 단품': 38833 },
            '큐10 플러스': { 회원기준: 57600, '5+1 세트': 288000, '5+1 단품': 48000 },
            '뮤노겐': { 회원기준: 73500, '5+1 세트': 367500, '5+1 단품': 61250 },
            '뷰티': { 회원기준: 68400, '5+1 세트': 342000, '5+1 단품': 57000 },
            'C-밸런스': { 회원기준: 54480, '5+1 세트': 272400, '5+1 단품': 45400 },
            '겔링핏': { 회원기준: 84400, '5+1 세트': 422000, '5+1 단품': 70333 },
            '액티브 젤': { 회원기준: 37000, '5+1 세트': 185000, '5+1 단품': 30833 },
            '맨플러스': { 회원기준: 65800, '5+1 세트': 329000, '5+1 단품': 54833 },
            '허벌티': { 회원기준: 16400, '5+1 세트': 82000, '5+1 단품': 13667 },
            '탑쉐이프': { 회원기준: 120000, '5+1 세트': 600000, '5+1 단품': 100000 },
            '아이비5(IB5)': { 회원기준: 36900, '5+1 세트': 184500, '5+1 단품': 30750 },
            '프로(망고)': { 회원기준: 51000, '5+1 세트': 255000, '5+1 단품': 42500 },
            '프로(바닐라)': { 회원기준: 51000, '5+1 세트': 255000, '5+1 단품': 42500 },
            '프로(베리)': { 회원기준: 51000, '5+1 세트': 255000, '5+1 단품': 42500 },
            '프로(코코넛)': { 회원기준: 51000, '5+1 세트': 255000, '5+1 단품': 42500 },
            '프로(초코릿무스)': { 회원기준: 51000, '5+1 세트': 255000, '5+1 단품': 42500 },
            '웨이': { 회원기준: 69900 },
            '주니어': { 회원기준: 44400, '5+1 세트': 222000, '5+1 단품': 37000 },
            '맨 페이스': { 회원기준: 37000, '5+1 세트': 185000, '5+1 단품': 30833 },
            '액티 세럼': { 회원기준: 62800, '5+1 세트': 314000, '5+1 단품': 52333 },
            '브라이트닝 포에버': { 회원기준: 75700, '5+1 세트': 378500, '5+1 단품': 63083 },
            '클렌징폼': { 회원기준: 23000, '5+1 세트': 115000, '5+1 단품': 19167 },
            '밸런싱크림': { 회원기준: 24600, '5+1 세트': 123000, '5+1 단품': 20500 },
            '필링마스크': { 회원기준: 21600, '5+1 세트': 108000, '5+1 단품': 18000 },
            '영케어 세트': { 회원기준: 62280, '5+1 세트': 311400, '5+1 단품': 51900 },
            '하이드레이팅 샷 마스크': { 회원기준: 64800, '5+1 세트': 324000, '5+1 단품': 54000 },
            '브라이트닝 샷 마스크': { 회원기준: 64800, '5+1 세트': 324000, '5+1 단품': 54000 },
            '요거트 메이커': { 회원기준: 33000 },
            '티인퓨저': { 회원기준: 7900 },
            '데모백': { 회원기준: 39000 }
        };

        // 슬라이드 이미지 데이터
        const slideData = {
            'ba-event': { count: 5, prefix: 'BA-event' },
            'special-event': { count: 3, prefix: 'special-event' },
            'monthly-plan': { count: 3, prefix: 'MonthlyPlan' },
            'warning': { count: 4, prefix: 'Warning' },
            'price': { count: 35, prefix: 'price' },
            'promotion': { count: 28, prefix: 'promotion' },
            'pro-intake': { count: 2, prefix: 'howtotake-07' }
        };

        // 기본 함수들
        function toggleDropdown(type) {
            const dropdowns = ['news', 'program', 'catalog', 'intake', 'order', 'group', 'alarm'];
            const targetDropdown = document.getElementById(type + '-dropdown');
            
            dropdowns.forEach(dropdown => {
                if (dropdown !== type) {
                    const element = document.getElementById(dropdown + '-dropdown');
                    if (element) {
                        element.classList.remove('show');
                    }
                }
            });
            
            if (targetDropdown) {
                if (currentDropdown === type && targetDropdown.classList.contains('show')) {
                    targetDropdown.classList.remove('show');
                    currentDropdown = null;
                } else {
                    targetDropdown.classList.add('show');
                    currentDropdown = type;
                }
            }
        }

        function showImage(src, alt) {
            const popup = document.getElementById('popup-overlay');
            const image = document.getElementById('popup-image');
            image.src = src;
            image.alt = alt;
            popup.style.display = 'flex';
        }

        function closePopup() {
            const popup = document.getElementById('popup-overlay');
            popup.style.display = 'none';
        }

        function showSlide(type, count) {
            currentSlideType = type;
            currentSlideIndex = 1;
            totalSlides = count;
            
            const overlay = document.getElementById(type + '-slide-overlay');
            const container = document.getElementById(type + '-container');
            
            // 기존 이미지 제거
            container.innerHTML = '';
            
            // 슬라이드 이미지 동적 생성
            const data = slideData[type];
            for (let i = 1; i <= count; i++) {
                const img = document.createElement('img');
                
                if (type === 'pro-intake') {
                    img.src = i === 1 ? 
                        'https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/howtotake-07.png' : 
                        'https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/howtotake-071.png';
                } else {
                    img.src = `https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/${data.prefix}-${i.toString().padStart(2, '0')}.png`;
                }
                
                img.className = i === 1 ? 'slide-image active' : 'slide-image';
                img.alt = `${type} ${i}`;
                
                // 네비게이션 버튼 추가
                if (i === 1) {
                    const prevBtn = document.createElement('div');
                    prevBtn.className = 'slide-nav prev';
                    prevBtn.textContent = '‹';
                    prevBtn.onclick = () => changeSlide(-1);
                    
                    const nextBtn = document.createElement('div');
                    nextBtn.className = 'slide-nav next';
                    nextBtn.textContent = '›';
                    nextBtn.onclick = () => changeSlide(1);
                    
                    container.appendChild(prevBtn);
                    container.appendChild(nextBtn);
                }
                
                container.appendChild(img);
            }
            
            updateSlideIndicator();
            overlay.style.display = 'flex';
        }

        function changeSlide(direction) {
            const images = document.querySelectorAll(`#${currentSlideType}-container .slide-image`);
            
            images[currentSlideIndex - 1].classList.remove('active');
            
            currentSlideIndex += direction;
            
            if (currentSlideIndex > totalSlides) {
                currentSlideIndex = 1;
            } else if (currentSlideIndex < 1) {
                currentSlideIndex = totalSlides;
            }
            
            images[currentSlideIndex - 1].classList.add('active');
            updateSlideIndicator();
        }

        function updateSlideIndicator() {
            const indicator = document.getElementById(currentSlideType + '-indicator');
            if (indicator) {
                indicator.textContent = `${currentSlideIndex} / ${totalSlides}`;
            }
        }

        function closeSlide(type) {
            const overlay = document.getElementById(type + '-slide-overlay');
            overlay.style.display = 'none';
        }

        function showIntakeImage(imageName) {
            showImage(`https://res.cloudinary.com/dj2g9dtca/image/upload/v1750000337/${imageName}.png`, '섭취방법 안내');
        }

        function showGroupMessage(message) {
            alert(`${message}가 선택되었습니다.`);
        }

        // 회원 인증 관련 함수들
        async function fetchMemberData() {
            const now = new Date().getTime();
            
            if (memberDataCache && (now - memberDataCacheTime) < CACHE_DURATION) {
                return memberDataCache;
            }
            
            try {
                const response = await fetch(`${MEMBER_LIST_URL}?t=${now}`);
                
                if (!response.ok) {
                    throw new Error('텍스트 파일을 불러올 수 없습니다.');
                }
                
                const text = await response.text();
                const memberData = {};
                
                text.split('\n')
                    .map(line => line.trim())
                    .filter(line => line.length > 0)
                    .forEach(line => {
                        const [id, password] = line.split(',');
                        if (id && password && /^\d{7,8}$/.test(id.trim())) {
                            memberData[id.trim()] = password.trim();
                        }
                    });
                
                memberDataCache = memberData;
                memberDataCacheTime = now;
                
                return memberData;
            } catch (error) {
                console.error('회원정보를 가져오는 중 오류 발생:', error);
                
                const defaultData = {
                    '7919915': 'pms0586',
                    '7963475': 'pms2958',
                    '8201555': 'pms2958',
                    '21151164': 'pms4082',
                    '21136656': 'pms8745'
                };
                
                memberDataCache = defaultData;
                memberDataCacheTime = now;
                
                return defaultData;
            }
        }
        
        function checkMemberAuth(programName) {
            currentProgramName = programName;
            
            const authTime = localStorage.getItem('memberAuthTime');
            const now = new Date().getTime();
            
            if (authTime && (now - parseInt(authTime)) < 30 * 60 * 1000) {
                showProgramContent(programName);
            } else {
                showAuthModal();
            }
        }
        
        function showAuthModal() {
            const modal = document.getElementById('auth-modal');
            const idInput = document.getElementById('member-id');
            const passwordInput = document.getElementById('member-password');
            const message = document.getElementById('auth-message');
            
            idInput.value = '';
            passwordInput.value = '';
            message.textContent = '';
            modal.style.display = 'flex';
            
            setTimeout(() => {
                idInput.focus();
            }, 300);
            
            idInput.oninput = function() {
                this.value = this.value.replace(/[^0-9]/g, '');
                if (this.value.length > 8) {
                    this.value = this.value.slice(0, 8);
                }
            };
            
            idInput.onkeypress = function(e) {
                if (e.key === 'Enter') {
                    passwordInput.focus();
                }
            };
            
            passwordInput.onkeypress = function(e) {
                if (e.key === 'Enter') {
                    verifyMemberAuth();
                }
            };
        }
        
        async function verifyMemberAuth() {
            const idInput = document.getElementById('member-id');
            const passwordInput = document.getElementById('member-password');
            const message = document.getElementById('auth-message');
            const memberId = idInput.value.trim();
            const memberPassword = passwordInput.value.trim();
            
            if (!memberId) {
                message.textContent = '회원번호를 입력해주세요.';
                message.className = 'auth-message auth-error';
                idInput.focus();
                return;
            }
            
            if (memberId.length < 7 || memberId.length > 8) {
                message.textContent = '회원번호는 7-8자리 숫자입니다.';
                message.className = 'auth-message auth-error';
                idInput.focus();
                return;
            }
            
            if (!memberPassword) {
                message.textContent = '비밀번호를 입력해주세요.';
                message.className = 'auth-message auth-error';
                passwordInput.focus();
                return;
            }
            
            message.textContent = '인증 정보를 확인하고 있습니다...';
            message.className = 'auth-message auth-loading';
            
            try {
                const memberData = await fetchMemberData();
                
                if (memberData[memberId] && memberData[memberId] === memberPassword) {
                    message.textContent = '인증되었습니다! 잠시만 기다려주세요...';
                    message.className = 'auth-message auth-success';
                    
                    localStorage.setItem('memberAuthTime', new Date().getTime().toString());
                    
                    setTimeout(() => {
                        closeAuthModal();
                        showProgramContent(currentProgramName);
                    }, 1000);
                    
                } else {
                    message.textContent = '회원번호 또는 비밀번호가 일치하지 않습니다.';
                    message.className = 'auth-message auth-error';
                    
                    setTimeout(() => {
                        message.textContent = '';
                        idInput.value = '';
                        passwordInput.value = '';
                        idInput.focus();
                    }, 3000);
                }
            } catch (error) {
                console.error('회원 인증 중 오류 발생:', error);
                message.textContent = '인증 확인 중 오류가 발생했습니다. 다시 시도해주세요.';
                message.className = 'auth-message auth-error';
                
                setTimeout(() => {
                    message.textContent = '';
                    idInput.focus();
                }, 3000);
            }
        }
        
        function closeAuthModal() {
            const modal = document.getElementById('auth-modal');
            modal.style.display = 'none';
        }
        
        function showProgramContent(programName) {
            if (programName === '해독 프로그램') {
                showImage('https://res.cloudinary.com/dj2g9dtca/image/upload/plan-dtox-01', '해독 프로그램 안내');
            } else {
                alert(`${programName} 콘텐츠에 접근하였습니다.\n\n이곳에 해당 프로그램의 상세 내용이 표시됩니다.`);
            }
        }

        // 주문서 작성 관련 함수들
        function toggleQuantityDropdown() {
            const dropdown = document.getElementById('quantity-dropdown');
            dropdown.classList.toggle('show');
        }
        
        function selectQuantity(quantity) {
            selectedQuantity = quantity;
            document.getElementById('quantity-button').textContent = `수량: ${quantity}`;
            document.getElementById('quantity-dropdown').classList.remove('show');
            calculatePrice();
        }
        
        function selectPriceType(priceType) {
            document.querySelectorAll('.price-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            event.target.classList.add('selected');
            selectedPriceType = priceType;
            calculatePrice();
        }
        
        function calculatePrice() {
            const productSelect = document.getElementById('product-select');
            const selectedProduct = productSelect.value;
            const subtotalDisplay = document.getElementById('subtotal-display');
            
            if (selectedProduct && selectedQuantity && selectedPriceType) {
                const productData = PRODUCT_PRICES[selectedProduct];
                
                if (productData && productData[selectedPriceType]) {
                    const unitPrice = productData[selectedPriceType];
                    const total = unitPrice * selectedQuantity;
                    subtotalDisplay.textContent = `${total.toLocaleString()}원`;
                } else {
                    subtotalDisplay.textContent = '해당 가격 없음';
                }
            } else {
                subtotalDisplay.textContent = '소계';
            }
        }
        
        function registerOrder() {
            const productSelect = document.getElementById('product-select');
            const selectedProduct = productSelect.value;
            const orderTextbox = document.getElementById('order-textbox');
            
            if (!selectedProduct) {
                alert('제품을 선택해주세요.');
                return;
            }
            
            if (!selectedQuantity) {
                alert('수량을 선택해주세요.');
                return;
            }
            
            if (!selectedPriceType) {
                alert('가격기준을 선택해주세요.');
                return;
            }
            
            const productData = PRODUCT_PRICES[selectedProduct];
            if (!productData || !productData[selectedPriceType]) {
                alert('선택한 제품에 해당 가격기준이 없습니다.');
                return;
            }
            
            const unitPrice = productData[selectedPriceType];
            const total = unitPrice * selectedQuantity;
            
            const orderLine = `${selectedProduct} (${selectedPriceType}) ${unitPrice.toLocaleString()} x ${selectedQuantity} = ${total.toLocaleString()}원`;
            
            if (orderTextbox.value) {
                orderTextbox.value += '\n' + orderLine;
            } else {
                orderTextbox.value = orderLine;
            }
            
            productSelect.value = '';
            selectedQuantity = null;
            selectedPriceType = null;
            document.getElementById('quantity-button').textContent = '수량';
            document.querySelectorAll('.price-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('subtotal-display').textContent = '소계';
        }
        
        function calculateAndCopy() {
            const orderTextbox = document.getElementById('order-textbox');
            const memoTextbox = document.getElementById('memo-textbox');
            
            if (!orderTextbox.value.trim()) {
                alert('등록된 주문이 없습니다.');
                return;
            }
            
            const lines = orderTextbox.value.split('\n');
            let total = 0;
            
            lines.forEach(line => {
                const match = line.match(/= ([\d,]+)원/);
                if (match) {
                    const amount = parseInt(match[1].replace(/,/g, ''));
                    total += amount;
                }
            });
            
            if (total === 0) {
                alert('계산할 금액이 없습니다.');
                return;
            }
            
            const memoContent = memoTextbox.value.trim();
            let finalContent = orderTextbox.value;
            
            finalContent += '\n\n합계 = ' + total.toLocaleString() + '원';
            if (memoContent) {
                finalContent += '\n' + memoContent;
            }
            
            orderTextbox.value = finalContent;
            
            try {
                navigator.clipboard.writeText(finalContent).then(() => {
                    alert('정산 완료!\n전체 내용이 클립보드에 복사되었습니다.');
                }).catch(() => {
                    orderTextbox.select();
                    document.execCommand('copy');
                    alert('정산 완료!\n전체 내용이 클립보드에 복사되었습니다.');
                });
            } catch (error) {
                orderTextbox.select();
                alert('정산 완료!\n텍스트가 선택되었습니다. Ctrl+C로 복사해주세요.');
            }
        }
        
        function resetOrderList() {
            const orderTextbox = document.getElementById('order-textbox');
            orderTextbox.value = '';
            alert('목록이 초기화되었습니다.');
        }

        // 알람 관련 함수들
        function toggleAlarms(isOn) {
            isAlarmActive = isOn;
            
            const onBtn = document.getElementById('alarm-on-btn');
            const offBtn = document.getElementById('alarm-off-btn');
            
            onBtn.classList.remove('active-on');
            offBtn.classList.remove('active-off');
            
            if (isOn) {
                onBtn.classList.add('active-on');
                startAlarmChecking();
            } else {
                offBtn.classList.add('active-off');
                stopAlarmChecking();
            }
        }

        function startAlarmChecking() {
            if (alarmInterval) {
                clearInterval(alarmInterval);
            }
            
            alarmInterval = setInterval(checkAlarms, 60000); // 1분마다 체크
            checkAlarms(); // 즉시 한 번 체크
        }

        function stopAlarmChecking() {
            if (alarmInterval) {
                clearInterval(alarmInterval);
                alarmInterval = null;
            }
        }

        function checkAlarms() {
            if (!isAlarmActive) return;
            
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            
            const alarmRows = document.querySelectorAll('.alarm-row');
            
            alarmRows.forEach(row => {
                const periodSelect = row.querySelector('select:nth-child(1)');
                const hourSelect = row.querySelector('select:nth-child(2)');
                const minuteSelect = row.querySelector('select:nth-child(3)');
                const memoInput = row.querySelector('input');
                
                if (periodSelect.value === '시간' || minuteSelect.value === '분' || !memoInput.value.trim()) {
                    return;
                }
                
                let alarmHour = parseInt(hourSelect.value.replace('시', ''));
                const alarmMinute = parseInt(minuteSelect.value.replace('분', ''));
                
                if (periodSelect.value === '오후' && alarmHour !== 12) {
                    alarmHour += 12;
                } else if (periodSelect.value === '오전' && alarmHour === 12) {
                    alarmHour = 0;
                }
                
                if (currentHour === alarmHour && currentMinute === alarmMinute) {
                    triggerAlarm(memoInput.value);
                }
            });
        }

        function triggerAlarm(message) {
            playAlarmSound();
            
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('독일피엠학교 섭취 알림', {
                    body: message,
                    icon: '/favicon.ico'
                });
            }
            
            if ('vibrate' in navigator) {
                navigator.vibrate([200, 100, 200]);
            }
        }

        function playAlarmSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('알람음 재생 실패');
            }
        }

        function showAlarmSoundSettings() {
            alert('알람음 설정 기능입니다.\n현재 기본 알람음이 설정되어 있습니다.');
        }

        function addAlarmRow() {
            const container = document.getElementById('alarm-rows-container');
            const newRow = container.children[0].cloneNode(true);
            
            newRow.querySelectorAll('select').forEach(select => {
                select.selectedIndex = 0;
            });
            newRow.querySelector('input').value = '';
            
            container.appendChild(newRow);
        }

        // 건강상담 관련 함수들
        function showHealthConsult() {
            currentSurveyPage = 1;
            document.getElementById('health-modal').style.display = 'flex';
            showSurveyPage(1);
            
            if ('Notification' in window && Notification.permission !== 'granted') {
                Notification.requestPermission();
            }
        }

        function closeHealthModal() {
            document.getElementById('health-modal').style.display = 'none';
        }

        function showSurveyPage(pageNum) {
            document.querySelectorAll('.survey-page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(`page-${pageNum}`).classList.add('active');
            
            const prevBtns = document.querySelectorAll('.survey-btn-prev');
            const nextBtns = document.querySelectorAll('.survey-btn-next');
            
            prevBtns.forEach(btn => {
                btn.disabled = pageNum === 1;
            });
        }

        function nextPage() {
            if (currentSurveyPage < totalSurveyPages) {
                currentSurveyPage++;
                showSurveyPage(currentSurveyPage);
            }
        }

        function prevPage() {
            if (currentSurveyPage > 1) {
                currentSurveyPage--;
                showSurveyPage(currentSurveyPage);
            }
        }

        function collectSurveyData() {
            const data = {};
            
            // 기본 정보
            data.gender = document.getElementById('q1').value;
            data.height = document.getElementById('q2').value;
            data.weight = document.getElementById('q3').value;
            data.birth_year = document.getElementById('q4').value;
            
            // 라디오 버튼 데이터
            const radioQuestions = ['q5', 'q6', 'q7', 'q8', 'q11', 'q12', 'q13', 'q15', 'q17', 'q18', 'q19', 'q20', 'q21', 'q23', 'q24', 'q25', 'q26', 'q27'];
            radioQuestions.forEach(q => {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                data[q] = selected ? selected.value : '';
            });
            
            // 숫자 입력
            data.coffee_cups = document.getElementById('q9').value;
            data.bowel_days = document.getElementById('q10-1').value;
            data.bowel_times = document.getElementById('q10-2').value;
            data.sleep_hours = document.getElementById('q22').value;
            
            // 체크박스 (식사시간)
            const mealTimes = [];
            document.querySelectorAll('input[name="q14"]:checked').forEach(cb => {
                mealTimes.push(cb.value);
            });
            data.meal_times = mealTimes.join(', ');
            
            // 텍스트 입력
            data.allergy = document.getElementById('q16').value;
            data.life_discomfort = document.getElementById('q28').value;
            data.name = document.getElementById('q29').value;
            data.phone = document.getElementById('q30').value;
            
            return data;
        }

        function submitSurvey() {
            const surveyData = collectSurveyData();
            
            // 필수 항목 체크
            if (!surveyData.name || !surveyData.phone) {
                alert('이름과 전화번호는 필수 항목입니다.');
                return;
            }
            
            // 이메일 전송
            sendSurveyEmail(surveyData);
        }

        function sendSurveyEmail(data) {
            const emailContent = `
안녕하세요. 독일피엠학교 건강상담 문진표입니다.

=== 기본 정보 ===
이름: ${data.name}
전화번호: ${data.phone}
성별: ${data.gender}
키: ${data.height}cm
몸무게: ${data.weight}kg
출생년도: ${data.birth_year}년

=== 건강 상태 ===
수술/시술 경험: ${data.q5}
음주: ${data.q6}
흡연: ${data.
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDr%2B6DczhArw7LpbAwvoZ%2FUZzkxwDcXPPZLhw%2B450fNndtDWiJoL7%2BgjjexuvC%2BKzybGcssg%2BrVj8h3gVmbJU8u119O%2Bnr3WYc09x1j9WoiksrFCXQ6sKFRPkWr11MmB54qRO0AcNquaz2Z8FsyhlpTYWp4v2MnYcxSydFsDit6QJo2%2BSuBABtC%2BR0UEha3HfzY3z9hPvC8Nc%2B%2BhlXjgtuZWuH5MIgHzpuj8pZitDKPRcRdKgukhvVJr%2F1WahtJwXO11S59%2FHZQ5wp66sv7zYJIoA0Py7lx1pgtoXx80Pc1CjfuIPA%2BxA91o%2BXY5F3wDoxImteqrLxLBXMWyk5xo30K8VfkC07%2FitEp01Xp6r074c0llCGUrsh5Gz2bXRc66BNYq8CuA1qWCkojtuxFw2VbhFzcuWJUKqDurNzDGszqmhK0VzyRwl4rvEXiqC3MOacK5ft6tHLNK4O22aE7%2B2aFC98SyyQh%2FHBS2JtJSRV4eZO0KCVAqRauRbvzBEGzgojhYdy65xSvEutxk3GYFTmwE%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDr+6DczhArw7LpbAwvoZ/UZzkxwDcXPPZLhw+450fNndtDWiJoL7+gjjexuvC+KzybGcssg+rVj8h3gVmbJU8u119O+nr3WYc09x1j9WoiksrFCXQ6sKFRPkWr11MmB54qRO0AcNquaz2Z8FsyhlpTYWp4v2MnYcxSydFsDit6QJo2+SuBABtC+R0UEha3HfzY3z9hPvC8Nc++hlXjgtuZWuH5MIgHzpuj8pZitDKPRcRdKgukhvVJr/1WahtJwXO11S59/HZQ5wp66sv7zYJIoA0Py7lx1pgtoXx80Pc1CjfuIPA+xA91o+XY5F3wDoxImteqrLxLBXMWyk5xo30K8VfkC07/itEp01Xp6r074c0llCGUrsh5Gz2bXRc66BNYq8CuA1qWCkojtuxFw2VbhFzcuWJUKqDurNzDGszqmhK0VzyRwl4rvEXiqC3MOacK5ft6tHLNK4O22aE7+2aFC98SyyQh/HBS2JtJSRV4eZO0KCVAqRauRbvzBEGzgojhYdy65xSvEutxk3GYFTmwE=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9549ab90fcc2fcce","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.6.2","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
